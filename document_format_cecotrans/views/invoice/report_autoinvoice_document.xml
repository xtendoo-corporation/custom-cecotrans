<?xml version="1.0" encoding="UTF-8"?>

<odoo>

    <data>
          <report
            id="document_format_cecotrans.report_invoice_cecotrans"
            string="Auto Invoice"
            model="account.move"
            report_type="qweb-pdf"
            name="document_format_cecotrans.invoice_cecotrans_report"
            print_report_name="'Invoice - %s' % (object.name)"
        />

        <template id="document_format_cecotrans.invoice_cecotrans_report">
            <t t-name="document_format_cecotrans.invoice_cecotrans_report">
                <t t-call="web.html_container">
                    <t t-foreach="docs" t-as="o">
                        <t t-set="lang" t-value="o.partner_id.lang"/>
                        <t t-call="document_format_cecotrans.cecotrans_report_invoice_document" t-lang="lang"/>
                    </t>
                </t>
            </t>
        </template>

        <template id="document_format_cecotrans.cecotrans_report_invoice_document">
            <t t-name="document_format_cecotrans.cecotrans_report_invoice_document">
                 <t t-set="company" t-value="o.company_id" />
                <t t-set="partner_id" t-value="o.partner_id"/>
                 <t t-call="document_format_cecotrans.layout_auto_invoice_cecotrans">
                <t t-set="o" t-value="o.with_context(lang=lang)"/>

                <t t-set="forced_vat" t-value="o.fiscal_position_id.foreign_vat"/> <!-- So that it appears in the footer of the report instead of the company VAT if it's set -->
                
                <div class="page">
                    <h1>test</h1>
                </div>
            </t>
            </t>
            </template>

    </data>
</odoo>
